apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: "{{{ COMPOSITE_CONTROLLER_NAME }}}"
webhooks:
  - name: "{{{ COMPOSITE_CONTROLLER_NAME }}}.check.webhook"
    failurePolicy: Fail
    sideEffects: None
    rules:
      - apiGroups:
          - zalando.org
        apiVersions:
          - "*"
        operations:
          - CREATE
          - UPDATE
        resources:
          - "{{{ CRD_PLURAL }}}"
    clientConfig:
      service:
        namespace: fabric
        name: "{{{ COMPOSITE_CONTROLLER_NAME }}}"
        path: "/validate"
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV1VENDQXFHZ0F3SUJBZ0lFTXJrdHVqQU5CZ2txaGtpRzl3MEJBUXdGQURCck1Rc3dDUVlEVlFRR0V3SkoNClJURVBNQTBHQTFVRUNCTUdSSFZpYkdsdU1ROHdEUVlEVlFRSEV3WkVkV0pzYVc0eEVEQU9CZ05WQkFvVEIxcGgNCmJHRnVaRzh4RnpBVkJnTlZCQXNURGtsdVpuSmhjM1J5ZFdOMGRYSmxNUTh3RFFZRFZRUURFd1pHWVdKeWFXTXcNCkhoY05NakV3TWpFM01UVTFNalE0V2hjTk5EZ3dOekEwTVRVMU1qUTRXakJwTVFzd0NRWURWUVFHRXdKSlJURVANCk1BMEdBMVVFQ0JNR1JIVmliR2x1TVE4d0RRWURWUVFIRXdaRWRXSnNhVzR4RURBT0JnTlZCQW9UQjFwaGJHRnUNClpHOHhEekFOQmdOVkJBc1RCa1poWW5KcFl6RVZNQk1HQTFVRUF3d01LaTVtWVdKeWFXTXVjM1pqTUlJQklqQU4NCkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQWcrVFh0MTMvVHFqQlJaSUE3ZmNaa3p0aXJUMWcNCk5ydFluWjI1SXE3SHhMQWNpVTk3NEl0djVkRzAwdkttY0x0ZVUzTWJGYmRvQ0F6S2gwWk9RYlFTajFPd2NIdUoNCllXU3BzSkIvcnAzbldWcHZuSnB4cXY3dXMwOU5lZkhydG96dzlIYzhobHZnSGF4YjhMQzBPVjZMQXdWWmJlWTENCjBMeHUzdzRZMEsxOTdmT3dvQkFlcXBBdTI5UzRhSWw5YkRyRWc5QlZ5dkRHOVQ2RDhUeVBPUXFGWjd3bHh6a2sNClFhaXlUVGlxbUhoeGlKeW8vYmpaNEVoOEhrbHdtVjdkT2pyRDZUckdFVzNLMzBoYTgyS1FIRHBMMzVGaXJWMWgNCkxhcDhwVjQ2K1gzRm5DMm0xY09ZV3k1Z1JhRldWU1RLN0ZsdDlqOWp0QXZROE1DZ3ZCZ3lXMzJjdndJREFRQUINCm8yY3daVEFkQmdOVkhRNEVGZ1FVV2NyT3BPQUk2aUZpOExXclJhbFgvRTFONFlJd0RnWURWUjBQQVFIL0JBUUQNCkFnV2dNQjhHQTFVZEl3UVlNQmFBRksvMzVQRXZ1Qmg3elJmY2pBQ0dUWkpmY1dUWk1CTUdBMVVkSlFRTU1Bb0cNCkNDc0dBUVVGQndNQk1BMEdDU3FHU0liM0RRRUJEQVVBQTRJQ0FRQW1ZVTRmN2l4eURHcXdHTVNhUG1iTnhwY2QNCmtWaVljQzZaQkRQbkkvcnYvSU1mZEVRb05uVFZ5bThIc2wvU2gyeldkcFY0bkJxZGEvVWc4SEhvM0tsYWNSWksNCmp3UnZPYk9zbXB0YkczQlQwbklZdGNzNGZJSFFJRG1YdE9FWEcyQVZPMEZkTUlTdUpVRUZyV1BMcWFsZjFvMXANCktqck53M2NEWjd1cCtDS2d4QWtGREt6bzR0WWVQd3dtb3NjeHNFa1duRDhtR0VrVXdmVysvOWFqMVF6VjRpZEkNCmY0Q0R0UTZwL1BCMFVUZTFuWDBRc2tTR2JYUzJEbUlNbCtzcHArLzFLTmpYU0QvLzRobG5lNmxydE5YOXhSTEUNCnlpbDV5MW0yQWc3QnlEKzVGdU0xelgvaFZCQnF4QklCRTJDL3Q1OUtBdHkzdUpnWE1VWlJjWjlqZjhSSGNTT1gNCnBGRW56bXhFa1NUVVBrTmJkaWVialcrSGI0bVRrUzRnWXErdEV3dmJyc3ZCMWVNMk9NSjBXV3ZxdVY0SStFbHENCnRmMzAwODhia2w0a0o2eEpvNVY2Vm95dlJhWmEzdDh1SlJOUGNDa0pPd3BWR1RUK0M0MHZOLzNpOWdnOUhsaEENCjg1R3FhTnMzNHJmTXMxRHoxOWZ6OHJOT0dlaTJQTm1IMTlvVjRpUlF3a1hJOWFkQlUyMkJ4OWtmUTdZKzYyQmUNCmNWbUdESm9NVmRDei9rc0VWeEVtN0RvWTZIcFBKT1B3MjgxcjZXVE9JVHpXTUlEdDBSWGF3WUFUVkg3SGlNLzANCjNBTjVyaUw3blRBYTZoYkxzWGMyblY1SFd1V2xveHBJSzJPN28rNkVDVFdhSFloM1dhU3ByTllZeldydytERkkNCkpQZ0Q2OWlwRGhBdTkyTmxxdz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
