apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: "{{{ COMPOSITE_CONTROLLER_NAME }}}"
webhooks:
  - name: "{{{ COMPOSITE_CONTROLLER_NAME }}}.check.webhook"
    failurePolicy: Fail
    sideEffects: None
    rules:
      - apiGroups:
          - zalando.org
        apiVersions:
          - "*"
        operations:
          - CREATE
          - UPDATE
        resources:
          - "{{{ CRD_PLURAL }}}"
    clientConfig:
      service:
        namespace: fabric
        name: "{{{ COMPOSITE_CONTROLLER_NAME }}}"
        path: "/validate"
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV1VENDQXFHZ0F3SUJBZ0lFQ1NxNWZUQU5CZ2txaGtpRzl3MEJBUXdGQURCck1Rc3dDUVlEVlFRR0V3SkoNClJURVBNQTBHQTFVRUNCTUdSSFZpYkdsdU1ROHdEUVlEVlFRSEV3WkVkV0pzYVc0eEVEQU9CZ05WQkFvVEIxcGgNCmJHRnVaRzh4RnpBVkJnTlZCQXNURGtsdVpuSmhjM1J5ZFdOMGRYSmxNUTh3RFFZRFZRUURFd1pHWVdKeWFXTXcNCkhoY05NakV3TWpFM01UWXhPVFUyV2hjTk5EZ3dOekEwTVRZeE9UVTJXakJwTVFzd0NRWURWUVFHRXdKSlJURVANCk1BMEdBMVVFQ0JNR1JIVmliR2x1TVE4d0RRWURWUVFIRXdaRWRXSnNhVzR4RURBT0JnTlZCQW9UQjFwaGJHRnUNClpHOHhEekFOQmdOVkJBc1RCa1poWW5KcFl6RVZNQk1HQTFVRUF3d01LaTVtWVdKeWFXTXVjM1pqTUlJQklqQU4NCkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXpnbXhrQWxmd3NWbDJKWnRDYndUMkNPZTZSWDMNClE4U3ZkRDdSU3Nub1ZvVmFxaGFaZWdWb01FRWNlMzE3Y0JEdDlxdDUvcXpIaWQ4S3VsT1hyMmlZakh4K3c1NWYNCnJYVEZUTGJoRTdMR2pCaFBWSHZJYXBrTUFscEh1UEI3REsxMy9CVWNSK2RDdE5rM2o2bUc2My95V0tMRDgyOUUNCmlxdDgvOUdScGEzaWxhdU1WeStLa29NSWFsNFBTRWp2ekFuQ2pYbVFUU3JENit3c3FkL0VIZVNGQXYyZlRDdU4NCnRwNWl3bHo5amppdmxvdGxhL2tyZFFWblY5d1hIZ2pMb0YzYTRFVXZ0bFZRU2liVEtsM3AzN1djTXVUMGVJSWsNCkhjeGFZTU5UWFlQZWtsVmQ3TW1laHFGN1h0cTh6c2FOOGtxZ2ZCVnVGVXdoV0Y3N04yUWRBZzdaL1FJREFRQUINCm8yY3daVEFkQmdOVkhRNEVGZ1FVM1A4SFIwN29vZjVZRGRrRTVMWE45emNYbGx3d0RnWURWUjBQQVFIL0JBUUQNCkFnV2dNQjhHQTFVZEl3UVlNQmFBRkJHTjZta3FneUx3UzhuQ0N3L29yOUJOMnYrN01CTUdBMVVkSlFRTU1Bb0cNCkNDc0dBUVVGQndNQk1BMEdDU3FHU0liM0RRRUJEQVVBQTRJQ0FRQWZBd2xRemtuVTBXc1Rkc3NGZ2xUOWhDVzYNClZVc1BrclV2QVo1dkNxRmhXZmZsSkxwUkNNZG9hMjJvOU5Yb3dLNkIrOE1pV21NUjRBcy9zU2w0TWFxMU1YZ04NCmR1VXNCWXlGK0lraUZBQ3pxYmtMT2JCc3hSclFsekpwdmgyQ09xL00zZVdmNk55eTRsc3RlK0trUHhyUFRla08NClkwdTFNTHJUQXpxZCtHY0UwWGlxNzUxTmRBWnllMDhrOWtXb3VyUFlaZndjT2I4U2NWTSt0MmgxNTNPQ1YrdmYNCjg0bExBZDJiTjNmUngzaTBTWWdlSW9DZjZFbGtoejRIQWlJb0svT3JtajR0bkpwTmM2SE5BSFJmM0ZNaXY3UTkNCkphM3BKS29kTy8rRWliN1VRNkZVOTl4ZGE4bnlxQS9UTC9ZSUdXSWh2TGM2MFJiemE0TkdnUnNMaTdGQzY3SkINCmJGeWtRcXB6R1V4OEoreXhkM0RlMDc3QVlNbFp6UC9kT2xLRlZYUzN6cHVySWtkVWZ2OHZ5dER4RWFiMENwVXkNClE5dGhYNVdDZWtHaEpXVlBoU2ZBUFZBQkt4bzNpdE5UTGVzUFV2MnAwa3JIbXhiMWJVZVcvMm5sZi8wWGVjbm8NCk43eEdBcTNSck5scmtQRm1rTzNMcHYxRys2Y3Q1YitYRzBtejhaMDVUUWZaTmtIb2hpN21PRzlTcEJ3RVFoa3UNCjBHdVlFaGk3KzJDaE9GSjBUUGoyQjhhNDB5cmZXcXJBOXdYd1VlVFpRSnNZTmRXVkpOZDdjN1lpdGRqTlAwMTcNCjZ2dHp0TmFxaEpqR3M5WUV2SkpBcXJiazlicUlJekk2QkUzSExabEtKcml2TUlYWFIzeWs3YUJ1V21NeGM5Q2kNCklrQ0ZjTm41aExQWkwrN2M2dz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
